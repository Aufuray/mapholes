<html xmlns="http://www.w3.org/1999/xhtml">
<head>

	<link rel="stylesheet" type="text/css" href="style.css">
	<link href="https://fonts.googleapis.com/css?family=Rakkas|PT+Sans" rel="stylesheet">
	<script src="https://openlayers.org/en/v3.19.1/build/ol.js" type="text/javascript"></script>
	<link rel="stylesheet" href="https://openlayers.org/en/v3.19.1/css/ol.css" type="text/css">
	<script src="OpenLayers.js"></script>
	<script src="https://maps.google.com/maps/api/js?v=3&amp;sensor=false"></script>
	<script type="text/javascript">
	// var map;
	// var lon = -73.95;
	// var lat = 40.70;
	// var zoom = 9;
	// var l_aoi;

	function init() {





            // Create vector layers
            // var limitsLayer = new ol.layer.Vector({
            //     source: new ol.source.StaticVector({
            //         url: 'https://raw.githubusercontent.com/acanimal/thebookofopenlayers3/master/app/data/world_limits.json',
            //         format: new ol.format.TopoJSON(),
            //         projection: 'EPSG:3857'
            //     }),
            //     style: new ol.style.Style({
            //         fill: new ol.style.Fill({
            //             color: 'rgba(155, 100, 150, 0.3)'
            //         }),
            //         stroke: new ol.style.Stroke({
            //             width: 1,
            //             color: 'rgba(155, 100, 150, 0.8)'
            //         })
            //     })
            // });
            // var citiesLayer = new ol.layer.Image({
            //     source: new ol.source.ImageVector({
            //         source: new ol.source.GeoJSON({
            //             url: 'https://raw.githubusercontent.com/acanimal/thebookofopenlayers3/master/app/data/world_cities.json',
            //             projection: 'EPSG:3857'
            //         }),
            //         style: new ol.style.Style({
            //             image: new ol.style.Circle({
            //                 fill: new ol.style.Fill({
            //                     color: 'rgba(55, 200, 150, 0.5)'
            //                 }),
            //                 stroke: new ol.style.Stroke({
            //                     width: 1,
            //                     color: 'rgba(55, 200, 150, 0.8)'
            //                 }),
            //                 radius: 4
            //             })
            //         })
            //     })
            // });
            // // Initialize the select interaction
            // var selectInteraction = new ol.interaction.Select({
            //     // layers: function(layer) {
            //     //     var limits = $('#limits').is(':checked');
            //     //     var cities = $('#cities').is(':checked');
            //     //     return (limits && layer === limitsLayer) || 
            //     //         (cities && layer === citiesLayer);
            //     // },
            //     style: new ol.style.Style({
            //         fill: new ol.style.Fill({
            //             color: 'rgba(255, 100, 50, 0.3)'
            //         }),
            //         stroke: new ol.style.Stroke({
            //             width: 2,
            //             color: 'rgba(255, 100, 50, 0.8)'
            //         }),
            //         image: new ol.style.Circle({
            //             fill: new ol.style.Fill({
            //                 color: 'rgba(255, 100, 50, 0.5)'
            //             }),
            //             stroke: new ol.style.Stroke({
            //                 width: 2, 
            //                 color: 'rgba(255, 100, 50, 0.8)'
            //             }),
            //             radius: 7
            //         })
            //     }),
            //     toggleCondition: ol.events.condition.never,
            //     addCondition: ol.events.condition.altKeyOnly,
            //     removeCondition: ol.events.condition.shiftKeyOnly 
            // });
            // Create the map
            // var map = new ol.Map({
            //     target: 'map',  // The DOM element that will contains the map
            //     // renderer: 'canvas', // Force the renderer to be used
            //     // interactions: ol.interaction.defaults().extend([
            //     //     selectInteraction
            //     // ]),
            //     layers: [
            //         // Add a new Tile layer getting tiles from OpenStreetMap source
            //         new ol.layer.Tile({
            //             source: new ol.source.OSM()
            //         }),
            //         // limitsLayer, 
            //         // citiesLayer
            //     ],
            //     view: new ol.View({
            //         center: ol.proj.transform([2, 40], 'EPSG:4326', 'EPSG:3857'),
            //         zoom: 4
            //     })
            // });

			// var l_aoi = new OpenLayers.Layer.WMS( "NYC Areas of Interest",
   //      			"http://134.74.146.40/~sing16/proj1/mapscripts/allLayers.php?", {layers: 'nypp,aoi',format: "image/png"});

 // var l_aoi =   new ol.layer.Image({
 //          source : new ol.source.ImageWMS({
 //            url : 'http://134.74.146.40/~sing16/proj1/maps/allLayers.map',
 //            params: {
 //              // these are simply added to http-get parameter
 //              'LAYERS' : 'nypp,aoi',
 //              'FORMAT': 'image/png'
 //              // 'TRANSPARENT' : 'false'
 //            },
 //            })
 //        });

//  var l_aoi = new ol.layer.Image({
//     source: new ol.source.ImageWMS({
//         url: 'http://134.74.146.40/~sing16/proj2/proj2.php?',
//         serverType: 'mapserver',
//   //       preload: Infinity,
// 		// visible: true,
//         params: {
//             'LAYERS': 'nypp',
//             'TILED': true
//         }
//     })
// });


//http://134.74.146.40/~sing16/proj2/proj2.php?LAYERS=nypp&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&STYLES=&EXCEPTIONS=application%2Fvnd.ogc.se_inimage&SRS=EPSG%3A2263&BBOX=975654.8436,182614.5826,1038154.8436,245114.5826&WIDTH=256&HEIGHT=256


// var l_aoi = 

//   new ol.layer.Image({
//     source: new ol.source.ImageWMS({
//       crossOrigin: 'anonymous',
//       params: {'LAYERS': 'nypp'},
//       serverType: 'mapserver',
//       url: 'http://134.74.146.40/~sing16/proj2/proj2.php?'
//     })
//   });




var projection = new ol.proj.Projection({
code: 'EPSG:2263',
units: 'm'
});

var map = new ol.Map({
        target: 'map',
        layers: [
        
          new ol.layer.Tile({
            source: new ol.source.OSM()
          })
          // l_aoi
          
        ],
        view: new ol.View({
          center: ol.proj.fromLonLat([-73.95, 40.70]),
          // projection: projection,
          zoom: 11
        })
      });




// 			var l_aoi = new OpenLayers.Layer.WMS( "NYC Areas of Interest",
//         			"http://134.74.146.40/~sing16/proj1/mapscripts/allLayers.php?", {layers: 'nypp,aoi',format: "image/png"});

// map.addLayer(l_aoi);

		// // var newYorkLonLat = [-73.95, 40.70];
		// // var newYork = ol.proj.fromLonLat(newYorkLonLat);

		// map = new ol.Map({
		// 	div: "map",
		// });

		// var gmap = new ol.Layer.Google("Google Streets", { isBaseLayer: true});

		
		// // var osm = new ol.Layer.OSM();
		
		// // note that first layer must be visible
		
		// // map.addLayers([osm]);

		
	    // map.addLayer(l_aoi);
		// map.addLayers([gmap]);		

		// // map.setCenter(new ol.proj.fromLonLat([lon, lat]), zoom);


		// map.zoomToExtent(map.maxExtent);
		map.addControl(new ol.Control.LayerSwitcher());

}

</script>
</head>
<body onload="init();">

	<div id="Heading">
		<h1>
			<span id="title">WebGIS &middot; Term Project</span> 
		</h1>
	</div>
	<br><br>
	<table>
		<tr>
			<td><div id="map" style="width:1420px; height:720px; margin:auto;"></div></td>
			<td>
				<div>
					<div id="nodeList">
					</div>
				</div>
			</td>
		</tr>
	</table>
	<table id='WFSTable'>
		<tr><td></td></tr>
		<tr><td></td></tr>
	</table>
	<div id="footer">
		<p style="color: #333;"> Amandeep Singh &middot; Phearun Rith &middot; Ofure Ukpebor &middot; Luis Villamarin &middot;  WebGIS &middot; Fall 2016 &middot; The City College of New York </p>
	</div>

</body>
</html>
